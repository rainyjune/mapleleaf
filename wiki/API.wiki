#summary API Doc

We only support JSON at present.

===Status Code===
  * 200 OK
  * 304 Not Modified
  * 400 Bad Request
  * 401 Not Authorized
  * 403 Forbidden
  * 404 Not Found
  * 500 Internal Server Error
  * 502 Bad Gateway
  * 503 Service Unavailable

*Tips*
When error occurs , a json string contains error related information was returned, like the following

{{{
{"error_code":"401","error":"Not Authorized","error_detail":"Login required"}
}}}

===Basic API===
*Post Access API*

[#api.php api.php] : Return the latest posts

api.php?controller=post&action=create : Create a post

*User API*

api.php?controller=user&action=login : Login with user account

api.php?controller=user&action=update : Get and/or update user account


===Search API===

api.php?controller=search : Return records against the keyword you provided.


----
====api.php====
Supported Formats
  JSON
HTTP Request Method
  GET
Requires Authentication
  false
Request Parameters
||      || *Requires* || *Type and Range * || *Description* ||
|| *pid*|| false      || int               || Get records according to page number , note start from 0 and ignored if Guestbook disabled pagination. || 

Example
{{{
<?php
// create curl resource
$ch = curl_init();
// set url
curl_setopt($ch, CURLOPT_URL, "http://localhost/mapleleaf/api.php?pid=2");
//return the transfer as a string
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
// $output contains the output string
$output = curl_exec($ch);
var_dump($output);
// close curl resource to free up system resources
curl_close($ch);     
?>
}}}

Response

{{{
{"messages":
  [
    {
      "0":"1",
      "id":"1",
      "1":"127.0.0.1",
      "ip":"127.0.0.1",
      "2":null,
      "uid":null,
      "3":"rainyjune",
      "user":"rainyjune",
      "4":"Welcome to our site.",
      "post_content":"Welcome to our site.",
      "5":"1296881181",
      "time":"02-05 12:46",
      "6":null,
      "reply_content":"",
      "7":null,
      "reply_time":"01-01 08:00",
      "8":null,
      "b_username":null
    },
    {
      "0":"3",
      "id":"3",
      "1":"127.0.0.1",
      "ip":"127.0.0.1",
      "2":null,
      "uid":null,
      "3":"anonymous",
      "user":"anonymous",
      "4":"<strong>Strong<\/strong>",
      "post_content":"<strong>Strong<\/strong>",
      "5":"1296881296",
      "time":"02-05 12:48",
      "6":null,
      "reply_content":"",
      "7":null,
      "reply_time":"01-01 08:00",
      "8":null,
      "b_username":null
    }
],
"current_page":2,
"total":6,
"pagenum":3
}
}}}